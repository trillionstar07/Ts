{"version":3,"file":"js/ArticleDetail-legacy.c736ff41.js","mappings":"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","sources":["webpack://tstt/./src/views/ArticleDetail/index.vue?2bc2","webpack://tstt/./src/views/ArticleDetail/CommentList.vue?6b62","webpack://tstt/src/views/ArticleDetail/CommentList.vue","webpack://tstt/./src/views/ArticleDetail/CommentList.vue?16c4","webpack://tstt/./src/views/ArticleDetail/CommentList.vue","webpack://tstt/src/views/ArticleDetail/index.vue","webpack://tstt/./src/views/ArticleDetail/index.vue?6318","webpack://tstt/./src/views/ArticleDetail/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"title\":\"文章详情\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"article-container\"},[_c('h1',{staticClass:\"art-title\"},[_vm._v(_vm._s(_vm.artObj.title))]),_c('van-cell',{attrs:{\"cennter\":\"\",\"title\":_vm.artObj.aut_name,\"label\":_vm.formateDate(_vm.artObj.pubdate)},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.artObj.aut_photo,\"alt\":\"\"}})]},proxy:true},{key:\"default\",fn:function(){return [_c('div',[(_vm.artObj.is_followed === true)?_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.followedFn(true)}}},[_vm._v(\"已 关 注\")]):_c('van-button',{attrs:{\"icon\":\"plus\",\"type\":\"info\",\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.followedFn(false)}}},[_vm._v(\"关 注\")])],1)]},proxy:true}])}),_c('van-divider'),(Object.keys(_vm.artObj).length === 0)?_c('van-skeleton',{attrs:{\"title\":\"\",\"row\":10}}):_c('div',{staticClass:\"art-content\",domProps:{\"innerHTML\":_vm._s(_vm.artObj.content)}}),_c('van-divider',[_vm._v(\"End\")]),_c('div',{staticClass:\"like-box\"},[(_vm.artObj.attitude === 1)?_c('van-button',{attrs:{\"icon\":\"good-job\",\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.likeFn(true)}}},[_vm._v(\" 已点赞\")]):_c('van-button',{attrs:{\"icon\":\"good-job-o\",\"type\":\"danger\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.likeFn(false)}}},[_vm._v(\" 点个赞\")])],1)],1),_c('div',[_c('CommentListVue')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"cmt-list\",class:{ 'art-cmt-container-1': true, 'art-cmt-container-2': true }},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"已经到底啦，发表你的看法吧!\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.commentArr),function(obj){return _c('div',{key:obj.com_id,staticClass:\"cmt-item\"},[_c('div',{staticClass:\"cmt-header\"},[_c('div',{staticClass:\"cmt-header-left\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":obj.aut_photo,\"alt\":\"\"}}),_c('span',{staticClass:\"uname\"},[_vm._v(_vm._s(obj.aut_name))])]),_c('div',{staticClass:\"cmt-header-right\"},[(obj.is_liking === true)?_c('van-icon',{attrs:{\"name\":\"good-job\",\"size\":\"20\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.likeFn(true, obj)}}}):_c('van-icon',{attrs:{\"name\":\"good-job-o\",\"size\":\"16\",\"color\":\"gray\"},on:{\"click\":function($event){return _vm.likeFn(false, obj)}}})],1)]),_c('div',{staticClass:\"cmt-body\"},[_vm._v(\" \"+_vm._s(obj.content)+\" \")]),_c('div',{staticClass:\"cmt-footer\"},[_vm._v(_vm._s(_vm.timeAgo(obj.pubdate)))])])}),0)],1),_c('div',[_c('div',{staticClass:\"add-cmt-box van-hairline--top\"},[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"size\":\"0.48rem\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"ipt-cmt-left\",on:{\"click\":_vm.toggleShowFn}},[_vm._v(\"说说你的看法\")]),_c('div',{staticClass:\"icon-box\"},[_c('van-badge',{attrs:{\"content\":_vm.totalCount === 0 ? '' : _vm.totalCount,\"max\":\"99\"}},[_c('van-icon',{attrs:{\"name\":\"comment-o\",\"size\":\"0.53333334rem\"},on:{\"click\":_vm.commentClickFn}})],1),(_vm.starFn())?_c('van-icon',{attrs:{\"name\":\"star\",\"size\":\"0.53333334rem\",\"color\":\"#ff6700\"},on:{\"click\":_vm.starFn}}):_c('van-icon',{attrs:{\"name\":\"star-o\",\"size\":\"0.53333334rem\"},on:{\"click\":_vm.starFn}}),_c('van-icon',{attrs:{\"name\":\"share-o\",\"size\":\"0.53333334rem\"},on:{\"click\":function($event){_vm.showShare = true}}}),_c('van-share-sheet',{attrs:{\"title\":\"立即分享给好友\",\"options\":_vm.options},model:{value:(_vm.showShare),callback:function ($$v) {_vm.showShare=$$v},expression:\"showShare\"}})],1)],1),_c('van-popup',{staticClass:\"channel_popup\",style:({ height: '25%' }),attrs:{\"position\":\"bottom\",\"duration\":\"0.3\",\"closed\":\"\",\"round\":\"\",\"safe-area-inset-bottom\":true},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"cmt-box van-hairline--top\"},[_c('textarea',{directives:[{name:\"fofo\",rawName:\"v-fofo\"},{name:\"model\",rawName:\"v-model.trim\",value:(_vm.comText),expression:\"comText\",modifiers:{\"trim\":true}}],attrs:{\"placeholder\":\"友善是交流的起点\"},domProps:{\"value\":(_vm.comText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.comText=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('van-button',{attrs:{\"type\":\"default\",\"disabled\":_vm.comText.length === 0},on:{\"click\":_vm.sendFn}},[_vm._v(\"发布\")])],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <!-- 评论列表 -->\n        <div class=\"cmt-list\" :class=\"{ 'art-cmt-container-1': true, 'art-cmt-container-2': true }\">\n\n            <!-- 评论的Item项 -->\n            <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"已经到底啦，发表你的看法吧!\" @load=\"onLoad\"\n                :immediate-check=\"false\">\n                <div class=\"cmt-item\" v-for=\"obj in commentArr\" :key=\"obj.com_id\">\n                    <!-- 头部区域 -->\n                    <div class=\"cmt-header\">\n                        <!-- 头部左侧 -->\n                        <div class=\"cmt-header-left\">\n                            <img :src=\"obj.aut_photo\" alt=\"\" class=\"avatar\">\n                            <span class=\"uname\">{{ obj.aut_name }}</span>\n                        </div>\n                        <!-- 头部右侧 -->\n                        <div class=\"cmt-header-right\">\n                            <van-icon name=\"good-job\" size=\"20\" color=\"red\" v-if=\"obj.is_liking === true\"\n                                @click=\"likeFn(true, obj)\" />\n                            <van-icon name=\"good-job-o\" size=\"16\" color=\"gray\" v-else @click=\"likeFn(false, obj)\" />\n                        </div>\n                    </div>\n                    <!-- 主体区域 -->\n                    <div class=\"cmt-body\">\n                        {{ obj.content }}\n                    </div>\n                    <!-- 尾部区域 -->\n                    <div class=\"cmt-footer\">{{ timeAgo(obj.pubdate) }}</div>\n                </div>\n            </van-list>\n        </div>\n\n        <!-- 底部评论区1 -->\n        <div>\n            <div class=\"add-cmt-box van-hairline--top\">\n                <van-icon name=\"arrow-left\" size=\"0.48rem\" @click=\"$router.back()\" />\n                <div class=\"ipt-cmt-left\" @click=\"toggleShowFn\">说说你的看法</div>\n                <div class=\"icon-box\">\n                    <van-badge :content=\"totalCount === 0 ? '' : totalCount\" max=\"99\">\n                        <van-icon name=\"comment-o\" size=\"0.53333334rem\" @click=\"commentClickFn\" />\n                    </van-badge>\n                    <!-- 收藏按钮 -->\n                    <van-icon name=\"star\" size=\"0.53333334rem\" color=\"#ff6700\" v-if=\"starFn()\" @click=\"starFn\" />\n                    <van-icon name=\"star-o\" size=\"0.53333334rem\"  v-else @click=\"starFn\" />\n\n                    <!-- 分享按钮 -->\n                    <van-icon name=\"share-o\" size=\"0.53333334rem\" @click=\"showShare = true\" />\n                    <!-- 分享面板 -->\n                    <van-share-sheet v-model=\"showShare\" title=\"立即分享给好友\" :options=\"options\" />\n                </div>\n            </div>\n            <van-popup class=\"channel_popup\" v-model=\"show\" position=\"bottom\" duration=\"0.3\" closed round\n                :safe-area-inset-bottom=\"true\" :style=\"{ height: '25%' }\">\n                <!-- 底部评论区2 -->\n                <div class=\"cmt-box van-hairline--top\">\n                    <textarea placeholder=\"友善是交流的起点\" v-fofo v-model.trim=\"comText\"></textarea>\n                    <van-button type=\"default\" :disabled=\"comText.length === 0\" @click=\"sendFn\">发布</van-button>\n                </div>\n            </van-popup>\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport { commentsListAPI, commentsDisLikingAPI, commentsLikingAPI, commentSendAPI } from '@/api'\nimport { timeAgo } from '@/utils/date'\n\nexport default {\n  data () {\n    return {\n      offset: null, // 偏移量评论ID\n      commentArr: [], // 评论列表\n      totalCount: '', // 评论总数量（必须由后端返回）\n      isShowCmtBox: true,\n      show: false,\n      comText: '', // 关联发布评论的内容\n      loading: false,\n      finished: false,\n      showShare: false, // 分享面板\n      options: [\n        [\n          { name: '微信', icon: 'wechat' },\n          { name: '朋友圈', icon: 'wechat-moments' },\n          { name: '微博', icon: 'weibo' },\n          { name: 'QQ', icon: 'qq' },\n          { name: '复制链接', icon: 'link' }\n        ]\n      ]\n    }\n  },\n  async created () {\n    const res = await commentsListAPI({\n      a: 'a', // a为文章评论，c为评论的评论\n      id: this.$route.query.art_id // 文章id\n    })\n    this.commentArr = res.data.data.results\n    this.totalCount = res.data.data.total_count\n    this.lastId = res.data.data.last_id // 分页、最后一个评论的id\n    if (res.data.data.results.length === 0) {\n      this.finished = true\n    }\n  },\n  methods: {\n    timeAgo,\n    async likeFn (bool, commentObj) {\n      // 评论的点赞\n      if (bool === true) {\n        // 取消评论点赞\n        commentObj.is_liking = false\n        await commentsDisLikingAPI({\n          comId: commentObj.com_id\n        })\n      } else {\n        // 评论点赞\n        commentObj.is_liking = true\n        await commentsLikingAPI({\n          comId: commentObj.com_id\n        })\n      }\n    },\n    // 显示评论输入框\n    toggleShowFn () {\n      this.show = true\n      // this.isShowCmtBox = false\n    },\n    // 评论按钮点击事件，展示第一条评论\n    commentClickFn () {\n      // 设置window.scrollTo(0,文章内容高度)\n      // window.scrollTo可以使网页进行滚动，根据相应的坐标即可滚动到对应的位置\n      //           const articleHeight = document.querySelector('.article-container').scrollHeight\n      //           window.scrollTo(0, articleHeight)\n      // 可以修改CSS的属性：animation（帧动画）、transition(过渡动画)实现动画效果\n      // 也可以使用js左动画：计时器间隔时间修改目标的状态\n\n      // 比较方便的方法，既可以滚动也可以带动画\n      // 原生标签.scrollIntoView(),让原生的标签滚动到屏幕的最上面\n      // '.like-box'是评论区\n      document.querySelector('.like-box').scrollIntoView({\n        behavior: 'smooth'\n      })\n    },\n    // 发布评论按钮点击事件\n    async sendFn () {\n      // 前端效果：把评论加入到评论区列表中\n      const res = await commentSendAPI({\n        id: this.$route.query.art_id,\n        content: this.comText\n      })\n      console.log(res)\n      this.commentArr.unshift(res.data.data.new_obj)\n      this.totalCount++\n      this.comText = ''\n      this.show = false\n      document.querySelector('.like-box').scrollIntoView({\n        behavior: 'smooth'\n      })\n    },\n    // 底部加载更多\n    async onLoad () {\n      if (this.commentArr.length > 0) {\n        // 请求下一页\n        const res = await commentsListAPI({\n          a: 'a', // a为文章评论，c为评论的评论\n          id: this.$route.query.art_id, // 文章id\n          offset: this.lastId\n        })\n        this.totalCount = res.data.data.total_count\n        this.lastId = res.data.data.last_id // 分页、最后一个评论的id\n        if (res.data.data.last_id === null) {\n          // 没有下一页\n          this.finished = true\n          this.commentArr = [...this.commentArr, ...res.data.data.results]\n        }\n        this.loading = false\n      } else {\n        this.loading = false\n      }\n    },\n    // 分享按钮\n    shareFn () {\n      this.showShare = true\n    },\n    // 收藏按钮\n    starFn () {\n      return false\n    }\n  }\n}\n\n</script>\n\n<style scoped lang=\"less\">\n// .channel_popup{\n//     background-color: rgb(184, 20, 20);\n// }\n.cmt-list {\n    padding: 10px;\n\n    .cmt-item {\n        padding: 15px 0;\n\n        .cmt-item {\n            border-top: 1px solid #f8f8f8\n        }\n\n        .cmt-header {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n\n            .cmt-header-left {\n                display: flex;\n                align-items: center;\n\n                .avatar {\n                    width: 40px;\n                    height: 40px;\n                    background-color: #f8f8f8;\n                    border-radius: 50%;\n                    margin-right: 15px;\n                }\n\n                .uname {\n                    font-size: 12px;\n                }\n            }\n        }\n\n        .cmt-body {\n            font-size: 14px;\n            line-height: 28px;\n            text-indent: 2em;\n            margin-top: 6px;\n            word-break: break-all;\n        }\n\n        .cmt-footer {\n            font-size: 12px;\n            color: gray;\n            margin-top: 10px\n        }\n    }\n}\n\n// 外层容器\n.art-cmt-container-1 {\n    padding-bottom: 46px;\n}\n\n.art-cmt-container-2 {\n    padding-bottim: 80px;\n}\n\n// 发布评论的盒子1\n.add-cmt-box {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    box-sizing: border-box;\n    background-color: white;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 46px;\n    padding-left: 10px;\n\n    .ipt-cmt-left {\n        flex: 1;\n        border: 1px solid #efefef;\n        border-radius: 15px;\n        height: 30px;\n        font-size: 12px;\n        line-height: 30px;\n        padding-left: 15px;\n        margin-left: 10px;\n        background-color: #f8f8f8;\n    }\n\n    .icon-box {\n        width: 40%;\n        display: flex;\n        justify-content: space-evenly;\n        line-height: 0;\n    }\n}\n\n.child {\n    width: 20px;\n    height: 20px;\n    background: #f2f3f5;\n}\n\n// 发布评论的盒子\n.cmt-box {\n    //bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 90%;\n    display: flex;\n    position: absolute;\n    justify-content: space-evenly;\n    align-items: center;\n    font-size: 12px;\n    padding-left: 10px;\n    box-sizing: border-box;\n    border-radius: 0.42667rem 0.42667rem 0 0;\n    background-color: white;\n\n    textarea {\n        flex: 1;\n        height: 70%;\n        border: 1px solid #efefef;\n        background-color: #f8f8f8;\n        resize: none;\n        border-radius: 6px;\n    }\n\n    .van-button {\n        height: 75%;\n        border-radius: 6px;\n        border: none;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentList.vue?vue&type=template&id=796cabc0&scoped=true&\"\nimport script from \"./CommentList.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentList.vue?vue&type=style&index=0&id=796cabc0&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"796cabc0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n      <!-- header区域 -->\n      <van-nav-bar\n        fixed\n        title=\"文章详情\"\n        left-arrow\n        @click-left=\"$router.back()\"\n      />\n       <!-- 文章信息区域 -->\n       <div class=\"article-container\">\n           <!-- 文章标题 -->\n           <h1 class=\"art-title\">{{artObj.title}}</h1>\n           <!-- 用户信息 -->\n           <van-cell cennter :title=\"artObj.aut_name\" :label=\"formateDate(artObj.pubdate)\">\n               <template #icon>\n                   <img :src=\"artObj.aut_photo\" alt=\"\" class=\"avatar\"/>\n               </template>\n               <template #default>\n                   <div>\n                            <van-button\n                            type=\"info\"\n                            size=\"mini\"\n                            v-if=\"artObj.is_followed === true\"\n                            @click=\"followedFn(true)\"\n                            >已 关 注</van-button>\n\n                            <van-button\n                            icon=\"plus\"\n                            type=\"info\"\n                            size=\"mini\"\n                            plain v-else\n                            @click=\"followedFn(false)\"\n                            >关 注</van-button>\n                   </div>\n               </template>\n           </van-cell>\n           <!-- 分割 -->\n           <van-divider></van-divider>\n              <!-- 文章等待加载中 -->\n                <van-skeleton title :row=\"10\" v-if=\"Object.keys(artObj).length === 0\"/>\n                    <!-- 文章内容 -->\n                    <div class=\"art-content\" v-html=\"artObj.content\" v-else></div>\n           <!-- 分割 -->\n           <van-divider>End</van-divider>\n           <!-- 点赞 -->\n           <!-- attitude： -1无态度，0不喜欢 1点赞 -->\n           <div class=\"like-box\">\n               <van-button\n               icon=\"good-job\"\n               type=\"danger\"\n               size=\"small\"\n               @click=\"likeFn(true)\"\n               v-if=\"artObj.attitude === 1\">\n                   已点赞</van-button>\n               <van-button\n               icon=\"good-job-o\"\n               type=\"danger\"\n               @click=\"likeFn(false)\"\n               plain size=\"small\" v-else>\n                   点个赞</van-button>\n           </div>\n       </div>\n       <!-- 文章评论区 -->\n       <div>\n         <CommentListVue></CommentListVue>\n       </div>\n  </div>\n</template>\n\n<script>\nimport {\n  detailAPI,\n  userFollowedAPI,\n  userUnFollowedAPI,\n  unLikeArticleAPI,\n  likeArticleAPI\n} from '@/api'\nimport { timeAgo } from '@/utils/date'\nimport CommentListVue from './CommentList.vue'\nexport default {\n  name: 'myDetail',\n  data () {\n    return {\n      artObj: { // 文章对象\n      }\n    }\n  },\n  async created () {\n    const res = await detailAPI({\n      artId: this.$route.query.art_id\n    })\n    console.log(res)\n    this.artObj = res.data.data\n  },\n  methods: {\n    formateDate: timeAgo,\n    // 关注、取关作者\n    async followedFn (bool) {\n      if (bool === true) {\n        // 调取关接口\n        this.artObj.is_followed = false\n        const res = await userUnFollowedAPI({\n          userId: this.artObj.aut_id\n        })\n        console.log(res)\n      } else {\n        // 调关注接口\n        this.artObj.is_followed = true\n        const res = await userFollowedAPI({\n          userId: this.artObj.aut_id\n        })\n        console.log(res)\n      }\n    },\n    // 文章点赞/取消点赞\n    async likeFn (bool) {\n      if (bool === true) {\n        // 调取消点赞接口\n        this.artObj.attitude = 0\n        const res = await unLikeArticleAPI({\n          artId: this.artObj.art_id\n        })\n        console.log(res)\n      } else {\n        // 调已点赞接口\n        this.artObj.attitude = 1\n        const res = await likeArticleAPI({\n          artId: this.artObj.art_id\n        })\n        console.log(res)\n      }\n    }\n  },\n  components: {\n    CommentListVue\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.article-container{\n    padding:10px;\n    margin-top: 46px;\n}\n.art-title{\n    font-size: 16px;\n    font-weight: bold;\n    margin: 10px 0;\n}\n.art-content{\n    font-size:12px;\n    line-height: 24px;\n    width: 100%;\n    overflow-x: scroll;\n    word-break: break-all;\n    /deep/ img {\n        width: 100%;\n    }\n    /deep/ pre {\n        white-space: pre-wrap;\n        word-wrap: break-word;\n    }\n}\n.van-cell{\n    padding:5px 0;\n    &::after{\n        display: none;\n    }\n}\n.avatar{\n    width:60px;\n    height: 60px;\n    border-radius: 50%;\n    background-color: #f8f8f8;\n    margin-right: 5px;\n    border:none;\n}\n.like-box{\n    display:flex;\n    justify-content: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1133a9f5&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1133a9f5&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1133a9f5\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","$router","back","staticClass","_v","_s","artObj","title","aut_name","formateDate","pubdate","scopedSlots","_u","key","fn","aut_photo","proxy","is_followed","followedFn","Object","keys","length","domProps","content","attitude","likeFn","staticRenderFns","class","finished","onLoad","model","value","callback","$$v","loading","expression","_l","obj","com_id","is_liking","timeAgo","toggleShowFn","totalCount","commentClickFn","starFn","showShare","options","style","height","show","directives","name","rawName","modifiers","target","composing","comText","trim","$forceUpdate","sendFn","data","offset","commentArr","isShowCmtBox","icon","created","commentsListAPI","a","id","res","methods","bool","commentObj","commentsDisLikingAPI","comId","commentsLikingAPI","document","behavior","commentSendAPI","console","shareFn","component","detailAPI","artId","userUnFollowedAPI","userId","userFollowedAPI","unLikeArticleAPI","likeArticleAPI","components","CommentListVue"],"sourceRoot":""}